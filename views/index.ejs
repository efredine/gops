<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/cards.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/gameui.css">
    <!--[if lt IE 9]>
        <link rel="stylesheet" type="text/css" href="cards-ie.css" media="screen" />
    <![endif]-->
    <!--[if IE 9]>
        <link rel="stylesheet" type="text/css" href="cards-ie9.css" media="screen" />
    <![endif]-->

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

    <link rel="stylesheet" href="/styles/nav.css" type="text/css">

    <script type="text/javascript" src="/navbar.js"></script>
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="/scripts/side-nav.js"></script>
    <script type="text/javascript" src="/scripts/modal.js"></script>
    <script type="text/javascript" src="/scripts/new-game.js"></script>
    <script src="https://cdn.rawgit.com/nnattawat/flip/master/dist/jquery.flip.min.js"></script>

  </head>

  <body id="body">

    <% include ./partials/_navbar %>

    <section id="game-container">

    </section>

      <script id="active-game-template" type="text/x-handlebars-template">
        <!-- <article class="game card"> -->
          <!-- whole container -->
          <div class="container wrapper board" data-game-id={{game_id}}>

            <!-- container-top -->
            <div class="container container-top">

              <!-- opponent -->
              <div class="opponent">

                <!-- opponent avatar -->
                <!-- /opponent avatar -->

                <!-- opponent cards -->
                <div class="playingCards" id="oppHand">
                  <div class="card back opponent">*</div>
                  <div class="card back opponent">*</div>
                </div>
                <!-- /opponent cards -->
              </div>
              <!-- /opponent -->
            </div>
            <!-- /container-top -->


            <!-- container-middle -->
            <div class="container container-middle content">

              <!-- game table -->
              <div class="oval">

                <!-- cards in play -->
                <div class="playingCards">
                  <div class="play" id="tableCards">
                    <ul class="deck">
                      <li>
                        <div class="card back ">*</div>
                      </li>
                      <li>
                        <div class="card back">*</div>
                      </li>
                      <li>
                        <div class="card back">*</div>
                      </li>
                      <li>
                        <div class="card back">*</div>
                      </li>
                      <li>
                        <div class="card back">*</div>
                      </li>
                    </ul>
                    <ul>
                      <li>
                        <a class="card rank-{{currentTurn.prize}} diams" href="#">
                          <span class="rank">{{currentTurn.prize}}</span>
                          <span class="suit">&diams;</span>
                        </a>
                      </li>
                    </ul>
                    <ul class="deck">
                      <li>
                        <div class="card back">*</div>
                      </li>

                  </div>
                </div>
                <!-- /cards in play -->

              </div>
              <!-- /game table -->
            </div>
            <!-- /container-middle -->

            <!-- player -->
            <!-- player hand -->
            <div class="container container-bottom">
              <div class="playingCards rotateHand">
                <ul class="hand" id="playerHand">
                {{#list game_state.users.0.cardsInHand}}
                  <li>
                    <a class="card rank-{{card}} diams" href="#" data-card-to-play={{card}}>
                      <span class="rank">{{card}}</span>
                      <span class="suit">&diams;</span>
                    </a>
                  </li>
                {{/list}}
                </ul>

                <div class="clear"></div>
              </div>
            </div>
            <!-- /player hand -->

            <!-- /player -->
          <h1>{{game_id}}</h1>

          </div>
          <!-- /whole container -->

        <!-- </article> -->

      </script>

    <!-- <script id="stats-template" type="text/x-handlebars-template">

    </script> -->

    <script id="game-template" type="text/x-handlebars-template">
      <article class="game card" data-game-id="{{game_id}}">
        <!-- <button class="btn waves-effect waves-light close-game" type="submit" name="action">Submit
          <i class="material-icons right">send</i>
        </button> -->
        <button class="modal-close btn game-close" style="position:absolute;top:0;right:0;">ABANDON</button>

        <div class="game-card-header">
          <h4>Game Status: {{statusDisplay}}</h4>
        </div>
        {{#if users}}
        <ul class="game-card-body">
            {{#each users}}
              <li>Opponent: {{username}}</li>
            {{/each}}
          </ul>
          {{else}}
          <p>Opponent: Not found yet</p>
          {{/if}}
        <div class="game-card-footer">
          <span>Game ID: {{game_id}}</span>
        </div>
      </article>
    </script>

   <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>
  </body>
</html>
